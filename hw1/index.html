<html>
	<head>
		<script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=default'></script>
		<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
		<style>
			h1 {
				text-align: center;
			}

			.container {
				margin: 0 auto;
				padding: 60px 20%;
			}

			figure {
				text-align: center;
			}

			img {
				display: inline-block;
			}

			body {
				font-family: 'Inter', sans-serif;
			}
		</style>
	</head>
	<body>
		<div class="container">
		<h1>CS184/284A Summer 2025 Homework 1 Write-Up</h1>
		<div style="text-align: center;">Name: Sean Lee</div>

		<br>

		Link to webpage: <a href="https://cal-cs184.github.io/hw-webpages-su25-98sean/">hw-webpages-su25-98sean</a>
		
		<br>

		Link to GitHub repository: <a href="https://github.com/cal-cs184/hw-webpages-su25-98sean">hw-webpages-su25-98sean</a>

		<!--
		<figure>
			<img src="lion.jpg" alt="Lion" style="width:50%"/>
			<figcaption>You can add images with captions!</figcaption>
		</figure>

		
		We've already added one heading per task, to make your write-up as navigable when grading. Please fit your write-up within these sections!

		
		<h2>Overview</h2>
		Give a high-level overview of what you implemented in this homework. Think about what you've built as a whole. Share your thoughts on what interesting things you've learned from completing the homework.
		-->
		
		<h2>Task 1: Drawing Single-Color Triangles</h2>
		
		<p>To rasterize a triangle, I use the line test method based on 2D cross products.</p>	
		
		<p>
		I first compute the bounding box of the triangle using the three vertices. This gives the range of pixels that might contain parts of the triangle.
		</p>
		
		<p>
		For each integer pixel coordinate (x, y) in the bounding box, I compute the sample position at the center of the pixel (x + 0.5, y + 0.5).	
		</p>

		<p>
		For each sample point, I use three edge tests. Each test uses a 2D cross product to determine which side of an edge the sample lies on. If the sample lies on the same side of all three edges or directly on them, it is inside the triangle. This handles all triangle winding orders (clockwise or counter-clockwise) and draws pixels.
		</p>
			
		<p>
		My algorithm is no worse than sampling every pixel in the bounding box because I use the bounding box only computed by min() and max() of the triangle’s vertex coordinates. Also, I only check sample points within this bounding box, not the entire framebuffer. For each sample in the bounding box, I run a point-in-triangle test.
		</p>
			
		<figure>
			<img src="Task1_rasterize.png" alt="Task1_raterize.png" style="width:50%"/>
			<figcaption>Rendered basic/test4.svg</figcaption>
		</figure>






		<h2>Task 2: Antialiasing by Supersampling</h2>
				
		<p>
		Supersampling is an anti-aliasing technique that reduces jagged edges (aliasing) by sampling multiple points within each pixel and averaging their colors. Instead of sampling just the center of each pixel, we sample a finer grid within the pixel and blend the results to get smoother edges. Aliasing artifacts occur because we're representing high-frequency visual information (like sharp edges or fine lines) with too few samples. Supersampling mitigates this by effectively increasing the resolution and then downsampling, preserving edge quality.
		</p>	
		
		<p>
		I use sample_buffer, a 1D std::vector<Color>, which stores color values for all subpixel samples. It has width * height * sample_rate entries. Each pixel stores sample_rate subsamples, laid out row-wise (e.g., 4 samples per pixel for 2x2 grid). Note that index = (y * width + x) * sample_rate + (j * sqrt_rate + i) where (i, j) is the subpixel position inside the sqrt_rate x sqrt_rate grid for that pixel.
		</p>
		
		<p>
		For each integer pixel coordinate (x, y) in the bounding box, I compute the sample position at the center of the pixel (x + 0.5, y + 0.5).	
		</p>

		<p>
		Instead of testing a single point at (x + 0.5, y + 0.5), I test sqrt(sample_rate)^2 points within each pixel. Each subpixel sample is tested for coverage using a helper function, inside_tri(...), and written to the appropriate index in sample_buffer.
		</p>
			
		<p>
		After all triangles are rasterized, this function averages the colors of all subpixel samples for each pixel, then writes the averaged color to rgb_framebuffer_target.
		</p>

		<p>
		For lines and points, we write the same color to all subsamples within a pixel, since high-quality antialiasing for lines wasn’t required.
		</p>

		<p> 
		To summarize the antialiasing process, each triangle is rasterized by evaluating multiple subpixel sample positions per pixel. Then, a sample is filled if it lies inside the triangle. After rasterizing all triangles, resolve_to_framebuffer() computes the final pixel color by averaging all the subpixel colors. This smooths out triangle edges and eliminates jaggedness, especially at shallow or steep angles.
		</p>

		<div style="display: flex; flex-direction: column; align-items: center;">
			<table style="width: 100%; text-align: center; border-collapse: collapse;">
			  <tr>
				<td style="text-align: center;">
				  <img src="supersample_rate1.png" width="400px"/>
				  <figcaption>Sample rate = 1</figcaption>
				</td>
				<td style="text-align: center;">
				  <img src="supersample_rate4.png" width="400px"/>
				  <figcaption>Sample rate = 4</figcaption>
				</td>
			  </tr>
			  <tr>
				<td style="text-align: center;">
				  <img src="supersample_rate9.png" width="400px"/>
				  <figcaption>Sample rate = 9</figcaption>
				</td>
				<td style="text-align: center;">
				  <img src="supersample_rate16.png" width="400px"/>
				  <figcaption>Sample rate = 16</figcaption>
				</td>
			  </tr>
			</table>
		</div>




			
		<h2>Task 3: Transforms</h2>
		Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.

		<h2>Task 4: Barycentric coordinates</h2>
		Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.

		<h2>Task 5: "Pixel sampling" for texture mapping</h2>
		Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.

		<h2>Task 6: "Level Sampling" with mipmaps for texture mapping</h2>
		Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.

		<h2>(Optional) Task 7: Extra Credit - Draw Something Creative!</h2>
		Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.

		<h2>Additional Notes (please remove)</h2>
		<ul>
			<li>You can also add code if you'd like as so: <code>code code code</code></li>
			<li>If you'd like to add math equations, 
				<ul>
					<li>You can write inline equations like so: \( a^2 + b^2 = c^2 \)</li>
					<li>You can write display equations like so: \[ a^2 + b^2 = c^2 \]</li>
				</ul>
			</li>
		</ul>
		</div>
	</body>
</html>
